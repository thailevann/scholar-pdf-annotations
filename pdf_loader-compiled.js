(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var l=this||self,p=function(a){var b=typeof a;return b!="object"?b:a?Array.isArray(a)?"array":b:"null"},aa=function(a){var b=typeof a;return b=="object"&&a!=null||b=="function"},ba=function(a){return a},ca=function(a,b){function c(){}c.prototype=b.prototype;a.S=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.P=function(d,e,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[e].apply(d,g)}};function q(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{const c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));b!==void 0&&(this.cause=b)}ca(q,Error);q.prototype.name="CustomError";function da(a,b){a=a.split("%s");let c="";const d=a.length-1;for(let e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");q.call(this,c+a[d])}ca(da,q);da.prototype.name="AssertionError";var ea=function(a,b){throw new da("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function fa(a,b=new Set){if(b.has(a))return"(Recursive reference)";switch(typeof a){case "object":if(a){var c=Object.getPrototypeOf(a);switch(c){case Map.prototype:case Set.prototype:case Array.prototype:b.add(a);var d=`[${Array.from(a,e=>fa(e,b)).join(", ")}]`;b.delete(a);c!==Array.prototype&&(d=`${ha(c.constructor)}(${d})`);return d;case Object.prototype:return b.add(a),c=`{${Object.entries(a).map(([e,f])=>`${e}: ${fa(f,b)}`).join(", ")}}`,b.delete(a),c;default:return d="Object",c&&c.constructor&&
(d=ha(c.constructor)),typeof a.toString==="function"&&a.toString!==Object.prototype.toString?`${d}(${String(a)})`:`(object ${d})`}}break;case "function":return`function ${ha(a)}`;case "number":if(!Number.isFinite(a))return String(a);break;case "bigint":return`${a.toString(10)}n`;case "symbol":return a.toString()}return JSON.stringify(a)}
function ha(a){var b=a.displayName;return b&&typeof b==="string"||(b=a.name)&&typeof b==="string"?b:(a=/function\s+([^\(]+)/m.exec(String(a)))?a[1]:"(Anonymous)"};function ia(a,b){const c=ja,d=[];ka(b,a,d)||la(void 0,c,`Guard ${b.F().trim()} failed:`,...d.reverse())}function ma(a,b){a.R=!0;a.F=typeof b==="function"?b:()=>b;return a}function ka(a,b,c){const d=a(b,c);d||na(c,()=>{let e="";e.length>0&&(e+=": ");return`${e}Expected ${a.F().trim()}, got ${fa(b)}`});return d}function na(a,b){a==null||a.push((typeof b==="function"?b():b).trim())}let ja=void 0;function oa(a){return typeof a==="function"?a():a}
function la(...a){throw Error(a.map(oa).filter(Boolean).join("\n").trim().replace(/:$/,""));};var pa=ma(a=>typeof a==="string","string"),qa=ma(a=>typeof a==="bigint","bigint");var ra=typeof l.BigInt==="function"&&typeof l.BigInt(0)==="bigint";var xa=ma(a=>{if(ra)return ia(sa,qa),ia(ta,qa),a=BigInt(a),a>=sa&&a<=ta;ia(a,pa);return a[0]==="-"?ua(a,va):ua(a,wa)},"isSafeInt52");const va=Number.MIN_SAFE_INTEGER.toString(),sa=ra?BigInt(Number.MIN_SAFE_INTEGER):void 0,wa=Number.MAX_SAFE_INTEGER.toString(),ta=ra?BigInt(Number.MAX_SAFE_INTEGER):void 0;
function ua(a,b){if(a.length>b.length)return!1;if(a.length<b.length||a===b)return!0;for(var c=0;c<a.length;c++){const d=a[c],e=b[c];if(d>e)return!1;if(d<e)return!0}c=ja;la("Assertion fail:",`isInRange weird case. Value was: ${a}. Boundary was: ${b}.`||c)};var ya,za;a:{for(var Aa=["CLOSURE_FLAGS"],Ba=l,Ca=0;Ca<Aa.length;Ca++)if(Ba=Ba[Aa[Ca]],Ba==null){za=null;break a}za=Ba}var Da=za&&za[610401301];ya=Da!=null?Da:!1;var t;const Ea=l.navigator;t=Ea?Ea.userAgentData||null:null;function Fa(a){return ya?t?t.brands.some(({brand:b})=>b&&b.indexOf(a)!=-1):!1:!1}function u(a){var b;a:{if(b=l.navigator)if(b=b.userAgent)break a;b=""}return b.indexOf(a)!=-1};function v(){return ya?!!t&&t.brands.length>0:!1}function Ga(){return v()?Fa("Chromium"):(u("Chrome")||u("CriOS"))&&!(v()?0:u("Edge"))||u("Silk")};var Ha=function(a){Ha[" "](a);return a};Ha[" "]=function(){};var Ia=v()?!1:u("Trident")||u("MSIE");!u("Android")||Ga();Ga();u("Safari")&&(Ga()||(v()?0:u("Coast"))||(v()?0:u("Opera"))||(v()?0:u("Edge"))||(v()?Fa("Microsoft Edge"):u("Edg/"))||v()&&Fa("Opera"));var Ja={},Ka=null;var La=typeof Uint8Array!=="undefined",Ma=!Ia&&typeof btoa==="function";function Na(a){a=Error(a);a.__closure__error__context__984382||(a.__closure__error__context__984382={});a.__closure__error__context__984382.severity="warning";return a};var Oa=typeof Symbol==="function"&&typeof Symbol()==="symbol";function Pa(a,b,c=!1){return typeof Symbol==="function"&&typeof Symbol()==="symbol"?c&&Symbol.for&&a?Symbol.for(a):a!=null?Symbol(a):Symbol():b}var Qa=Pa("jas",void 0,!0),Ra=Pa("defaultInstance","0di"),Sa=Pa("unknownBinaryFields",Symbol());const w=Oa?Qa:"J",Ta={J:{value:0,configurable:!0,writable:!0,enumerable:!1}},Ua=Object.defineProperties;function Va(a,b){Oa||w in a||Ua(a,Ta);a[w]|=b}function y(a,b){Oa||w in a||Ua(a,Ta);a[w]=b}function z(a){Va(a,34);return a}function Wa(a){Va(a,32);return a}function Xa(a,b){y(b,(a|0)&-15615)}function Ya(a,b){y(b,(a|34)&-15581)}const Za=Object.getOwnPropertyDescriptor(Array.prototype,"K");
Object.defineProperties(Array.prototype,{K:{get(){function a(e,f){e&b&&c.push(f)}const b=this[w]|0,c=[];a(1,"IS_REPEATED_FIELD");a(2,"IS_IMMUTABLE_ARRAY");a(4,"IS_API_FORMATTED");a(2048,"STRING_FORMATTED");a(4096,"GBIGINT_FORMATTED");a(4096,"BINARY");a(8,"ONLY_MUTABLE_VALUES");a(32,"MUTABLE_REFERENCES_ARE_OWNED");a(64,"CONSTRUCTED");a(128,"TRANSFERRED");a(256,"HAS_SPARSE_OBJECT");a(512,"HAS_MESSAGE_ID");a(1024,"FROZEN_ARRAY");a(8192,"DESERIALIZED_FROM_BINARY");var d=b>>14&1023||536870912;d!==536870912&&
c.push(`pivot: ${d}`);d=c.join(",");return Za?Za.get.call(this)+"|"+d:d},configurable:!0,enumerable:!1}});function A(a){return Array.prototype.slice.call(a)};var $a={};function ab(a){return a!==null&&typeof a==="object"&&!Array.isArray(a)&&a.constructor===Object}var bb;const cb=[];y(cb,55);bb=Object.freeze(cb);function db(a){if(a&2)throw Error("Cannot mutate an immutable Message");}function eb(){}class fb{constructor(a,b,c){this.g=a;this.h=b;this.i=c}next(){const a=this.g.next();a.done||(a.value=this.h.call(this.i,a.value));return a}[Symbol.iterator](){return this}}function gb(a,b){const c=ba(Sa);(b=c?b[c]:void 0)&&(a[Sa]=A(b))}
function hb(a){const b=a[w]|0;(b&8||b&16&&b&32)&&a.forEach(()=>{});ib(a)}function ib(a){if(2048&(a[w]|0))for(let b=0;b<a.length;b++)typeof a[b]!=="string"&&ea(`Unexpected element of type ${typeof a[b]} in string formatted repeated 64-bit int field`)};function jb(a){return a};const kb=Number.isFinite;function lb(a){if(typeof a!=="number")throw Error(`Value of float/double field must be a number, found ${typeof a}: ${a}`);return a}function B(a){if(a!=null&&typeof a!=="boolean")throw Error(`Expected boolean but got ${p(a)}: ${a}`);return a}function mb(a){return`Expected int32 as finite number but got ${p(a)}: ${a}`}function D(a){if(a!=null){if(typeof a!=="number")throw Na(mb(a));if(!kb(a))throw Na(mb(a));a|=0}return a}
function nb(a){if(a==null)return a;if(typeof a==="string"&&a)a=+a;else if(typeof a!=="number")return;return kb(a)?a|0:void 0}function ob(a,b,c,d){if(a!=null&&typeof a==="object"&&a.B===$a)return a;if(!Array.isArray(a))return c?d&2?((a=b[Ra])||(a=new b,z(a.j),a=b[Ra]=a),b=a):b=new b:b=void 0,b;let e=c=a[w]|0;e===0&&(e|=d&32);e|=d&2;e!==c&&y(a,e);return new b(a)}
function pb(a,b,c){if(b){if(typeof a!=="string")throw Error(`Expected a string but got ${a} a ${p(a)}`);return a}let d;return(d=a==null||typeof a==="string"?a:void 0)!=null?d:c?"":void 0};const qb={};let rb=function(){try{return Ha(new class extends Map{constructor(){super()}}),!1}catch(a){return!0}}();
class sb{constructor(){this.g=new Map}get(a){return this.g.get(a)}set(a,b){this.g.set(a,b);this.size=this.g.size;return this}delete(a){a=this.g.delete(a);this.size=this.g.size;return a}clear(){this.g.clear();this.size=this.g.size}has(a){return this.g.has(a)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(a,b){return this.g.forEach(a,b)}[Symbol.iterator](){return this.entries()}}
const tb=(()=>rb?(Object.setPrototypeOf(sb.prototype,Map.prototype),Object.defineProperties(sb.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),sb):class extends Map{constructor(){super()}})();function ub(a){return a}
var vb=function(a){if(a.u&2)throw Error("Cannot mutate an immutable Map");},E=class extends tb{constructor(a,b,c=ub,d=ub){super();let e=a[w]|0;e|=64;y(a,e);this.u=e;this.s=b;this.v=c;this.D=this.s?wb:d;for(let f=0;f<a.length;f++){const g=a[f],k=c(g[0],!1,!0);let h=g[1];b?h===void 0&&(h=null):h=d(g[1],!1,!0,void 0,void 0,e);super.set(k,h)}}N(){var a=xb;if(this.size!==0)return Array.from(super.entries(),b=>{b[0]=a(b[0]);b[1]=a(b[1]);return b})}G(a=yb){const b=[],c=super.entries();for(var d;!(d=c.next()).done;)d=
d.value,d[0]=a(d[0]),d[1]=a(d[1]),b.push(d);return b}clear(){vb(this);super.clear()}delete(a){vb(this);return super.delete(this.v(a,!0,!1))}entries(){if(this.s){var a=super.keys();a=new fb(a,zb,this)}else a=super.entries();return a}values(){if(this.s){var a=super.keys();a=new fb(a,E.prototype.get,this)}else a=super.values();return a}forEach(a,b){this.s?super.forEach((c,d,e)=>{a.call(b,e.get(d),d,e)}):super.forEach(a,b)}set(a,b){vb(this);a=this.v(a,!0,!1);return a==null?this:b==null?(super.delete(a),
this):super.set(a,this.D(b,!0,!0,this.s,!1,this.u))}has(a){return super.has(this.v(a,!1,!1))}get(a){a=this.v(a,!1,!1);const b=super.get(a);if(b!==void 0){var c=this.s;return c?(c=this.D(b,!1,!0,c,this.H,this.u),c!==b&&super.set(a,c),c):b}}[Symbol.iterator](){return this.entries()}};E.prototype.toJSON=void 0;function wb(a,b,c,d,e,f){a=ob(a,d,c,f);e&&(a=Ab(a));return a}function yb(a){return a}function zb(a){return[a,this.get(a)]}let Bb;
function Cb(){return Bb||(Bb=new E(z([]),void 0,void 0,void 0,qb))};function Db(a,b,c){const d=A(a);var e=d.length;const f=b&256?d[e-1]:void 0;e+=f?-1:0;for(b=b&512?1:0;b<e;b++)d[b]=c(d[b]);if(f){b=d[b]={};for(const g in f)b[g]=c(f[g])}gb(d,a);return d}function Eb(a,b,c,d,e){if(a!=null){if(Array.isArray(a)){const f=a[w]|0;return a.length===0&&f&1?void 0:e&&f&2?a:Fb(a,b,c,d!==void 0,e)}return b(a,d)}}
function Fb(a,b,c,d,e){const f=d||c?a[w]|0:0;d=d?!!(f&32):void 0;const g=A(a);let k=0;const h=g.length;for(let C=0;C<h;C++){var n=g[C];if(C===h-1&&ab(n)){var m=b,r=c,x=d,Y=e;let I=void 0;for(let P in n){const Q=Eb(n[P],m,r,x,Y);if(Q!=null){let Z;((Z=I)!=null?Z:I={})[P]=Q}}n=I}else n=Eb(g[C],b,c,d,e);g[C]=n;n!=null&&(k=C+1)}k<h&&(g.length=k);c&&(gb(g,a),c(f,g));return g}function xb(a){return Eb(a,Gb,void 0,void 0,!1)}
function Gb(a){switch(typeof a){case "number":return Number.isFinite(a)?a:""+a;case "bigint":return xa(a)?Number(a):""+a;case "boolean":return a?1:0;case "object":if(La&&a!=null&&a instanceof Uint8Array){if(La&&a!=null&&a instanceof Uint8Array)throw Error("Uint8Array is no longer supported in JSPB");if(Ma){for(var b="",c=0,d=a.length-10240;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);a=btoa(b)}else{b===void 0&&(b=0);if(!Ka){Ka=
{};c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");d=["+/=","+/","-_=","-_.","-_"];for(var e=0;e<5;e++){var f=c.concat(d[e].split(""));Ja[e]=f;for(var g=0;g<f.length;g++){var k=f[g];Ka[k]===void 0&&(Ka[k]=g)}}}b=Ja[b];c=Array(Math.floor(a.length/3));d=b[64]||"";for(e=f=0;f<a.length-2;f+=3){var h=a[f],n=a[f+1];k=a[f+2];g=b[h>>2];h=b[(h&3)<<4|n>>4];n=b[(n&15)<<2|k>>6];k=b[k&63];c[e++]=g+h+n+k}g=0;k=d;switch(a.length-f){case 2:g=a[f+1],k=b[(g&15)<<2]||d;case 1:a=a[f],c[e]=
b[a>>2]+b[(a&3)<<4|g>>4]+k+d}a=c.join("")}return a}if(a.B===$a)return Hb(a);if(a instanceof E)return a.N();return}return a}let Ib;function Jb(a){try{return Hb(a)}finally{Ib=void 0}}
function Hb(a){var b=a.j;a=Fb(b,Gb,void 0,void 0,!1);var c=b[w]|0;if((b=a.length)&&!(c&512)){var d=a[b-1],e=!1;ab(d)?(b--,e=!0):d=void 0;var f,g=(f=Ib)!=null?f:jb;f=c&512?0:-1;c=b-f;g=g(c,f,a,d);d&&(a[b]=void 0);if(c<g&&d){c=!0;for(var k in d){const h=+k;h<=g?(e=h+f,a[e]=d[k],b=Math.max(e+1,b),e=!1,delete d[k]):c=!1}c&&(d=void 0)}for(c=b-1;b>0;c=b-1)if(k=a[c],k==null)b--,e=!0;else if(c-=f,c>=g){let h;((h=d)!=null?h:d={})[c]=k;b--;e=!0}else break;e&&(a.length=b);d&&a.push(d)}return a};typeof Proxy!=="undefined"&&new Proxy({},{getPrototypeOf:F,setPrototypeOf:F,isExtensible:F,preventExtensions:F,getOwnPropertyDescriptor:F,defineProperty:F,has:F,get:F,set:F,deleteProperty:F,apply:F,construct:F});function F(){throw Error("this array or object is owned by JSPB and should not be reused, did you mean to copy it with copyJspbArray? See go/jspb-api-gotchas#construct_from_array");};function Kb(){throw Error("Array passed to JSPB constructor already belongs to another JSPB proto instance");};function Lb(a,b,c=Ya){if(a!=null){if(La&&a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){var d=a[w]|0;if(d&2)return a;hb(a);b&&(b=d===0||!!(d&32)&&!(d&64||!(d&16)));return b?(y(a,d|34),d&4&&Object.freeze(a),a):Fb(a,Lb,d&4?Ya:c,!0,!0)}a.B===$a?(c=a.j,d=c[w]|0,a=d&2?a:new a.constructor(Mb(c,d,!0))):a instanceof E&&!(a.u&2)&&(c=z(a.G(Lb)),a=new E(c,a.s,a.v,a.D));return a}}function Mb(a,b,c){const d=c||b&2?Ya:Xa,e=!!(b&32);a=Db(a,b,f=>Lb(f,e,d));Va(a,32|(c?2:0));return a}
function Ab(a){const b=a.j,c=b[w]|0;return c&2?new a.constructor(Mb(b,c,!1)):a};var Nb=function(a,b){a=a.j;return G(a,a[w]|0,b)},G=function(a,b,c){if(c===-1)return null;const d=c+(b&512?0:-1),e=a.length-1;if(d>=e&&b&256)return a[e][c];if(d<=e)return a[d]},J=function(a,b,c){const d=a.j;let e=d[w]|0;db(e);H(d,e,b,c);return a};function H(a,b,c,d){const e=b&512?0:-1,f=c+e;var g=a.length-1;if(f>=g&&b&256)return a[g][c]=d,b;if(f<=g)return a[f]=d,b;d!==void 0&&(g=b>>14&1023||536870912,c>=g?d!=null&&(a[g+e]={[c]:d},b|=256,y(a,b)):a[f]=d);return b}
function K(a){return!!(2&a)&&!!(4&a)||!!(1024&a)}function Ob(a,b,c,d,e){var f=b&2;let g=!1;if(c==null){if(f)return Cb();c=[]}else if(c.constructor===E){if((c.u&2)==0||f)return c;c=c.G()}else Array.isArray(c)?g=!!((c[w]|0)&2):c=[];if(f){if(!c.length)return Cb();g||(g=!0,z(c))}else if(g){g=!1;f=A(c);for(c=0;c<f.length;c++){const k=f[c]=A(f[c]);Array.isArray(k[1])&&(k[1]=z(k[1]))}c=f}g||((c[w]|0)&64?c[w]&=-33:32&b&&Wa(c));e=new E(c,e,pb,void 0);H(a,b,d,e);return e}
function Pb(a,b,c){a=a.j;const d=a[w]|0;return Ob(a,d,G(a,d,b),b,c)}function Qb(a){var b=a.j;const c=b[w]|0;a=Rb;const d=c&2;b=Ob(b,c,G(b,c,2),2,a);!d&&a&&(b.H=!0);return b}
function Sb(a,b,c){const d=a.j;let e=d[w]|0;db(e);if(c==null)return H(d,e,b),a;let f=c[w]|0,g=f;var k=K(f);let h=k||Object.isFrozen(c);k||(f=0);h||(c=A(c),g=0,f=L(f,e),f=M(f,e),h=!1);f|=21;for(k=0;k<c.length;k++){const n=c[k],m=lb(n);Object.is(n,m)||(h&&(c=A(c),g=0,f=L(f,e),f=M(f,e),h=!1),c[k]=m)}f!==g&&(h&&(c=A(c),f=L(f,e),f=M(f,e)),y(c,f));hb(c);H(d,e,b,c);return a}
var Tb=function(a,b,c){var d=a.j,e=d[w]|0,f=G(d,e,c);b=ob(f,b,!1,e);b!==f&&b!=null&&H(d,e,c,b);d=b;if(d==null)return d;a=a.j;e=a[w]|0;e&2||(f=Ab(d),f!==d&&(d=f,H(a,e,c,d)));return d},Ub=function(a,b,c){c==null&&(c=void 0);J(a,b,c)};function L(a,b){a=(2&b?a|2:a&-3)|32;return a&=-1025}function M(a,b){32&b||(a&=-33);return a}
function Vb(a,b,c,d){var e=a.j[w]|0;db(e);var f;const g=a.j,k=(a=!!(2&e))?1:2;f&&(f=!a);a=G(g,e,b);a=Array.isArray(a)?a:bb;var h=a[w]|0;const n=!!(4&h);if(!n){var m=h;m===0&&(m=L(m,e));h=a;m|=1;var r=e,x=!!(2&m);x&&(r|=2);let Y=!x,C=!0,I=0,P=0;for(;I<h.length;I++){const Q=ob(h[I],c,!1,r);if(Q instanceof c){if(!x){const Z=!!((Q.j[w]|0)&2);Y&&(Y=!Z);C&&(C=Z)}h[P++]=Q}}P<I&&(h.length=P);m|=4;m=C?m|16:m&-17;m=Y?m|8:m&-9;y(h,m);x&&Object.freeze(h);h=m}if(f&&!(8&h||!a.length&&(k===1||k===4&&32&h))){K(h)&&
(a=A(a),h=L(h,e),e=H(g,e,b,a));f=a;for(m=0;m<f.length;m++)r=f[m],x=Ab(r),r!==x&&(f[m]=x);h|=8;h=f.length?h&-17:h|16;y(f,h)}k===1||k===4&&32&h?K(h)||(b=h,e=!!(32&h),h|=!a.length||16&h&&(!n||e)?2:1024,h!==b&&y(a,h),Object.freeze(a)):(k===2&&K(h)&&(a=A(a),h=L(h,e),h=M(h,e),y(a,h),e=H(g,e,b,a)),K(h)||(b=h,h=M(h,e),h!==b&&y(a,h)));b=a;d=d!=null?d:new c;b.push(d);b[w]=(d.j[w]|0)&2?b[w]&-9:b[w]&-17}
var Wb=function(a,b){a=Nb(a,b);a=a==null||typeof a==="boolean"?a:typeof a==="number"?!!a:void 0;return a!=null?a:!1},N=function(a,b){let c;return(c=nb(Nb(a,b)))!=null?c:0},Xb=function(a){a=a.j;let b=a[w]|0;const c=G(a,b,1);var d=c==null||typeof c==="number"?c:c==="NaN"||c==="Infinity"||c==="-Infinity"?Number(c):void 0;d!=null&&d!==c&&H(a,b,1,d);return d!=null?d:0},Yb=function(a,b){a=Nb(a,b);a=a==null?a:kb(a)?a|0:void 0;return a!=null?a:0},O=function(a,b,c){return J(a,b,c==null?c:lb(c))},R=function(a,
b,c){if(c!=null&&typeof c!=="string")throw Error(`Expected a string or null or undefined but got ${c} a ${p(c)}`);return J(a,b,c)};var S=class{constructor(a){this.preventPassingToStructuredClone=eb;a:{if(a!=null)for(var b=0;b<a.length;b++){var c=a[b];Array.isArray(c)&&hb(c)}if(a==null)c=96,a=[];else{if(!Array.isArray(a))throw Error(`data passed to JSPB constructors must be an Array, got '${JSON.stringify(a)}' a ${p(a)}`);c=a[w]|0;if(1&c)throw Error("Array passed to JSPB constructor is a repeated field array that belongs to another proto instance.");8192&c||!(64&c)||2&c||Kb();if(Object.isFrozen(a)||!Object.isExtensible(a)||Object.isSealed(a))throw Error("data passed to JSPB constructors must be mutable");
if(c&1024)throw Error("farr");if(c&64){var d=a;break a}b=a;c|=64;var e=b.length;if(e){var f=e-1;e=b[f];if(ab(e)){c|=256;const g=c&512?0:-1;f-=g;if(f>=1024)throw Error(`Found a message with a sparse object at fieldNumber ${f} is >= the limit ${1024}`);for(d in e){const k=+d;k<f&&(b[k+g]=e[d],delete e[d])}c=c&-16760833|(f&1023)<<14}}}y(a,c);d=a}this.j=d}toJSON(){return Jb(this)}clone(){const a=this.j;return new this.constructor(Mb(a,a[w]|0,!1))}};S.prototype.B=$a;S.prototype.toString=function(){return this.j.toString()};function Zb(a){if(a instanceof S)return a.constructor.g};(function(){const a=l.jspbGetTypeName;l.jspbGetTypeName=a?b=>a(b)||Zb(b):Zb})();/[?&]tc=([01])/.exec(location.search||"")||(navigator.userAgent||"").indexOf("Android")>=0||window.matchMedia&&window.matchMedia("(pointer)").matches&&window.matchMedia("(pointer:coarse)");var $b=new class{constructor(a){this.g=a}}("A");var ac=class extends S{};ac.g="scholar.reader.PdfDestination";var bc=class extends S{getDestination(){return Tb(this,ac,8)}};bc.g="scholar.reader.Annotation";var cc=class extends S{};cc.g="scholar.reader.FontInfo";var dc=class extends S{};dc.g="scholar.reader.FontMap";var ec=class extends S{};ec.g="scholar.reader.NamedDestinationMap";var fc=class extends S{};fc.g="scholar.reader.TextContentItem";var Rb=class extends S{};Rb.g="scholar.reader.TextStyle";var gc=class extends S{};gc.g="scholar.reader.TextContent";var hc=class extends S{};hc.g="scholar.reader.Viewport";var ic=class extends S{getViewport(){return Tb(this,hc,1)}};ic.g="scholar.reader.LoadResult";var kc=function(a){var b=new jc;return J(b,1,D(a))},lc=function(a,b){return J(a,2,D(b))},jc=class extends S{};jc.g="scholar.reader.PageSize";var nc=function(a){var b=new mc;return R(b,1,a)},oc=function(a,b){return R(a,2,b)},pc=function(a,b){return R(a,3,b)},qc=function(a,b){return R(a,4,b)},rc=function(a,b){return R(a,5,b)},sc=function(a,b){return R(a,6,b)},tc=function(a,b){return R(a,7,b)},uc=function(a,b){return R(a,8,b)},vc=function(a,b){return R(a,9,b)},wc=function(a,b){return R(a,10,b)},xc=function(a,b){return R(a,11,b)},yc=function(a,b){return J(a,12,D(b))},zc=function(a,b){Vb(a,13,jc,b)},Ac=function(a,b){return J(a,14,B(b))},Bc=
function(a,b){return J(a,15,B(b))},Cc=function(a,b){return J(a,16,B(b))},mc=class extends S{};mc.g="scholar.reader.PdfMetadata";var Dc=class extends S{};Dc.g="scholar.reader.RenderParams";var Ec=96/72;function Fc(){let a,b;return{promise:new Promise((c,d)=>{a=c;b=d}),resolve:a,reject:b}}function Gc(a){return a?a.toLowerCase().endsWith(".pdf")?a:a+".pdf":""}function Hc(a){a=a.split(/[#?]/)[0].split("/");let b=a=a[a.length-1];try{b=decodeURIComponent(a)}catch(c){}return(a=b)?Gc(a):"document.pdf"};var Ic=class{constructor(){this.i=this.annotations=this.text=this.h=this.l=this.m=this.viewport=this.g=null}transfer(){const a=[];var b=new ic;if(this.viewport){var c=this.viewport;var d=new hc;d=Sb(d,1,c.viewBox);d=O(d,2,c.rotation);d=O(d,3,c.offsetX);d=O(d,4,c.offsetY);d=O(d,5,c.width);d=O(d,6,c.height);d=O(d,7,c.scale);c=Sb(d,8,c.transform);Ub(b,1,c)}this.m&&J(b,6,D(this.m));this.l&&Ub(b,2,this.l);this.text&&Ub(b,3,this.text);if(this.annotations){{c=this.annotations;const m=b.j;let r=m[w]|0;db(r);
if(c==null)H(m,r,4);else{var e=d=c[w]|0,f=K(d),g=f||Object.isFrozen(c),k=!0,h=!0;for(let x=0;x<c.length;x++){var n=c[x];f||(n=!!((n.j[w]|0)&2),k&&(k=!n),h&&(h=n))}f||(d=k?13:5,d=h?d|16:d&-17);g&&d===e||(c=A(c),e=0,d=L(d,r),d=M(d,r));d!==e&&y(c,d);hb(c);H(m,r,4,c)}}}this.i&&Ub(b,5,this.i);b={p:JSON.stringify(Jb(b))};if(c=this.h&&this.h.transferToImageBitmap())b.c=c,a.push(c);return{M:b,O:a}}},Jc=class{constructor(a){this.promise=a;this.g=!1}cancel(){this.g=!0}};var Kc=class extends S{},Lc=function(a){return b=>{if(b==null||b=="")b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error("Expected to deserialize an Array but got "+p(b)+": "+b);b=new a(Wa(b))}return b}}(Kc);Kc.g="scholar.reader.LoadRequest";function Mc(){this.g=[];this.h=[]}var Nc=function(a){a.g.length===0&&(a.g=a.h,a.g.reverse(),a.h=[]);return a.g.pop()},Oc=function(a){return a.g.length===0&&a.h.length===0};Mc.prototype.clear=function(){this.g=[];this.h=[]};function T(a){return typeof a==="string"?a:""}function Pc(a){return(a=pdfjsLib.PDFDateString.toDateObject(a))?`${a.toLocaleDateString()}, ${a.toLocaleTimeString()}`:""}function Qc(a,b,c){const d=a.getViewport({scale:b}).rotation;return a.getViewport({scale:b,rotation:(c+d)%360})}
function Rc(a){var b=new ac,c=a[0];if(!c)return null;if(typeof c==="object"){c=c.num;if(typeof c!=="number")return null;J(b,1,D(c))}else if(typeof c==="number"&&Number.isInteger(c)&&c>=0)J(b,2,D(c));else return null;if(!a[1]||typeof a[1]!=="object")return null;c=a[1].name;if(typeof c!=="string")return null;R(b,3,c);let d,e;switch(c){case "XYZ":[,,d,a,c]=a;if(d!==null&&typeof d!=="number"||a!==null&&typeof a!=="number"||c!==null&&typeof c!=="number")return null;d!==null&&O(b,4,d);a!==null&&O(b,5,a);
c!==null&&O(b,8,c);return b;case "FitV":case "FitBV":return d=a[2],d===null?b:typeof d==="number"?O(b,4,d):null;case "FitH":case "FitBH":return a=a[2],a===null?b:typeof a==="number"?O(b,5,a):null;case "FitR":return[,,d,e,c,a]=a,typeof d!=="number"||typeof e!=="number"||typeof c!=="number"||typeof a!=="number"?b=null:(b=O(b,4,d),b=O(b,7,e),b=O(b,6,c),b=O(b,5,a)),b;default:return b}}
class Sc{constructor(a,b,c,d,e){this.type=a;this.o=b;this.h=c;this.m=!1;this.i=this.l=null;this.resolve=d;this.reject=e;this.g=new Ic}cancel(){this.m=!0;this.l&&this.l.cancel()}}class Tc extends Jc{constructor(a,b){super(a);this.h=b}cancel(){this.g=!0;this.h.cancel()}}
var Uc=function(a){return a.C.then(b=>b.promise)},U=function(a){a.o||(a.o=setTimeout(()=>{a.o=0;Vc(a)}))},V=function(a){a.g.resolve(a.g.g);a.g=null;a.h=null;U(a)},W=function(a,b){a.g.reject(b);a.g=null;a.h=null;U(a)},Wc=function(a,b){return Uc(a).then(c=>c.getPage(b.o)).then(c=>{b.g.g=c;b.g.viewport=Qc(c,Ec*(Xb(b.h)||1),N(b.h,3)||0);b.g.m=b.g.g.ref.num})},Xc=function(a){const b=a.g.g.getTextContent().then(c=>{const d=a.g.text=new gc;for(var e of c.items){var f=new fc;f=R(f,1,e.str);f=Sb(f,2,e.transform);
f=O(f,3,e.width);f=O(f,4,e.height);f=R(f,5,e.dir);f=R(f,6,e.fontName);f=J(f,7,B(e.hasEOL));Vb(d,1,fc,f)}for(const g in c.styles)e=c.styles[g],f=new Rb,f=O(f,1,e.ascent),f=O(f,2,e.descent),f=J(f,3,B(e.vertical)),f=R(f,4,e.fontFamily),e=g,Pb(d,2,Rb).set(e,f)});return Wb(a.h,4)?b.then(()=>a.g.g.getOperatorList({intent:"getFonts"})).then(()=>{a.g.l=new dc;const c=a.g.g.commonObjs;for(const f of Qb(a.g.text).keys())if(c.has(f)){var d=c.get(f);var e=new cc;e=R(e,1,d.name);e=J(e,2,B(d.isBolded));d=f;Pb(a.g.l,
1,cc).set(d,e)}}):b},Yc=function(a){return a.g.g.getAnnotations().then(b=>{const c=a.g.annotations=[];if(b)for(const d of b){b=new bc;b=R(b,1,d.subtype);b=Sb(b,2,d.rect);b=R(b,3,d.url);b=J(b,4,B(d.newWindow));b=R(b,5,d.action);b=R(b,6,d.id);if(typeof d.dest==="string")R(b,7,d.dest);else if(d.dest instanceof Array){const e=Rc(d.dest);if(!e)continue;Ub(b,8,e)}c.push(b)}})},Zc=function(a,b){return Uc(a).then(c=>c.getDestinations()).then(c=>{const d=b.g.i=new ec;for(const f in c){var e=c[f];e instanceof
Array&&(e=Rc(e))&&Pb(d,1,ac).set(f,e)}})},$c=function(a,b){const c=b.g.g;var d=N(b.h,2)?N(b.h,2)/Math.max(c.view[2],c.view[3])/window.devicePixelRatio/Ec:Xb(b.h)||1;const e=N(b.h,3)||0;d=Qc(c,Ec*d*window.devicePixelRatio,e);d={canvasContext:(b.g.h=new OffscreenCanvas(d.width,d.height)).getContext("2d",{alpha:!1}),viewport:d};b.l=c.render(d);let f=0;b.l.onContinue=g=>{f++;b.i=g;U(a)};return b.l.promise.then(()=>b.i=null).catch(g=>{if(!(g instanceof pdfjsLib.RenderingCancelledException))throw g;})},
Vc=function(a){if(!a.g||a.h!=1)if(!Oc(a.m))a.g&&(a.i=a.g),a.g=Nc(a.m),a.h=1;else if(!a.g)if(a.i)a.g=a.i,a.h=2,a.i=null;else{if(Oc(a.l))return;a.g=Nc(a.l);a.h=2}const b=a.g;if(b.m)V(a);else{switch(b.type){case 6:if(!b.g.g){Wc(a,b).then(()=>V(a)).catch(c=>W(a,c));return}break;case 1:if(!b.g.g){Wc(a,b).then(()=>U(a)).catch(c=>W(a,c));return}if(!b.g.text){Xc(b).then(()=>V(a)).catch(c=>W(a,c));return}break;case 2:if(!b.g.g){Wc(a,b).then(()=>U(a)).catch(c=>W(a,c));return}if(!b.g.annotations){Yc(b).then(()=>
V(a)).catch(c=>W(a,c));return}break;case 3:if(!b.g.i){Zc(a,b).then(()=>V(a)).catch(c=>W(a,c));return}break;case 4:if(!b.g.g){Wc(a,b).then(()=>U(a)).catch(c=>W(a,c));return}if(!b.g.h){$c(a,b).then(()=>V(a)).catch(c=>W(a,c));return}if(b.i){b.i();return}break;case 5:if(!b.g.g){Wc(a,b).then(()=>U(a)).catch(c=>W(a,c));return}if(!b.g.h){$c(a,b).then(()=>U(a)).catch(c=>W(a,c));return}if(b.i){b.i();return}if(!b.g.text){Xc(b).then(()=>U(a)).catch(c=>W(a,c));return}if(!b.g.annotations){Yc(b).then(()=>V(a)).catch(c=>
W(a,c));return}}console.error("Unknown task type/state:",a.g);W(a,"Unknown task type/state");U(a)}},ad=function(a,b){const c=!(a.g||a.i||!Oc(a.m)||!Oc(a.l)),d=Yb(b,3)===1?a.m:a.l,{promise:e,resolve:f,reject:g}=Fc();b=new Sc(Yb(b,2),N(b,4),Tb(b,Dc,5)||new Dc,f,g);d.h.push(b);c&&U(a);return new Tc(e,b)};class bd{constructor(a){this.C=a;this.m=new Mc;this.l=new Mc;this.i=this.h=this.g=null;this.o=0}}
var cd=async function(a,b){if(!a.i&&b&&typeof b==="string"){a.i=b;try{const {I:c,A:d}=await a.C(a.i);a.o(c);c.onPassword=(f,g)=>{a.m=f;X(5,g)};c.onProgress=f=>{X(2,f)};X(1,d);const e=await c.promise;X(3,e.numPages)}catch(c){X(4)}}},dd=function(a,b){if(b&&typeof b==="string"){b=Lc(b);var c=N(b,1),d=ad(a.L,b);a.l.set(c,d);d.promise.then(e=>{if(!d.g){a.l.delete(c);var {M:f,O:g}=e.transfer();X(6,{id:c,result:f},g)}})}},ed=async function(a,b){typeof b==="number"&&(a=await a.getMetadata(),X(7,{id:b,metadata:JSON.stringify(Jb(a))}))},
fd=async function(a,b){typeof b==="number"&&(a=await (await (await a.g).promise).getData(),X(8,{id:b,buffer:a.buffer},[a.buffer]))},gd=async function(a,b){if(typeof b==="string"&&(a=await (await (await a.g).promise).getData(),window.origin==="null")){var c=URL.createObjectURL(new Blob([a.buffer],{type:"application/pdf"})),d=document.createElement($b.g);d.href=c;d.download=b;document.body.appendChild(d);d.click();setTimeout(()=>{d.remove();URL.revokeObjectURL(c)},250)}},hd=async function(a,b){if(typeof b===
"object"){var c=b.id;if(typeof c==="number"&&(b=b.destId,typeof b==="string"))if(a=await (await a.g).promise,b=await a.getDestination(b)){var d=Rc(b);if(d){if(typeof b[0]==="object"){let e;try{e=await a.getPageIndex(b[0])}catch(f){X(9,{id:c});return}J(d,1);J(d,2,D(e))}X(9,{id:c,destination:JSON.stringify(Jb(d))})}else X(9,{id:c})}else X(9,{id:c})}},jd=async function(a,b){typeof b==="number"&&X(10,{id:b,hasVisibleForm:await id(a)})},X=function(a,b,c){window.parent.postMessage({type:a,val:b},"*",c)},
kd=function(a){if(window.origin!=="null"&&window.origin!==window.parent.origin)throw Error("PDF loader cannot run within a cross-origin iframe unless it is in a sandboxed origin");window.addEventListener("message",b=>{if(b.source===window.parent&&b.data&&typeof b.data==="object"&&"type"in b.data){var c=b.data.val;switch(b.data.type){case 4:cd(a,c);break;case 5:a.m&&typeof c==="string"&&a.m(c);break;case 0:dd(a,c);break;case 1:typeof c==="number"&&(b=a.l.get(c))&&(b.cancel(),a.l.delete(c));break;case 2:ed(a,
c);break;case 3:fd(a,c);break;case 6:gd(a,c);break;case 7:hd(a,c);break;case 8:jd(a,c)}}});X(0)},id=async function(a){var b=await (await a.g).promise;if(Wb(await a.getMetadata(),16))return!0;a=await b.getFieldObjects();if(!a)return!1;for(const c in a)if((b=a[c])&&b.find(d=>{const e=d.rect;d=d.type;if(!e||!Array.isArray(e)||e.length!==4||!e.every(n=>typeof n==="number"&&n>0)||d==="button")return!1;const [f,g,k,h]=e;return f!==k&&g!==h}))return!0;return!1},ld=class{constructor(a){this.C=a;this.i="";
this.o=null;this.g=new Promise(b=>{this.o=b});this.m=null;this.L=new bd(this.g);this.l=new Map;this.h=null}async getMetadata(){if(this.h)return this.h;var a=Hc(this.i),b=nc(a),c=null;try{c=await (await this.g).promise}catch(h){return b}const d=c.numPages;let e;var f;let g;try{const h=c.getMetadata(),n=[];for(let m=1;m<=Math.min(d,20);++m)n.push(c.getPage(m).then(r=>{r=r.getViewport({scale:1});return{width:r.width,height:r.height}}).catch(()=>({width:0,height:0})));[{info:e,contentDispositionFilename:f,
contentLength:k},...g]=await Promise.all([h,...n])}catch(h){return b}if(!(aa(e)&&g instanceof Array))return b;a=(f=Gc(f))||a;var k=Number.isInteger(k)?Math.max(k,0)/1024/1024:0;b=Pc(e.CreationDate);c=Pc(e.ModDate);f=!!e.IsLinearized;this.h=Cc(Bc(Ac(yc(xc(wc(vc(uc(tc(sc(rc(qc(pc(oc(nc(a),`${k.toFixed(2)} MB`),T(e.Title)),T(e.Author)),T(e.Subject)),T(e.Keywords)),T(b)),T(c)),T(e.Creator)),T(e.Producer)),T(e.PDFFormatVersion)),d),f),!!e.IsAcroFormPresent),!!e.IsXFAPresent);for(const {width:h,height:n}of g)zc(this.h,
lc(kc(h),n));return this.h}};async function md(a){var b=a.getReader(),c=0;for(a=[];;){const {done:d,value:e}=await b.read();if(d||!e)break;c+=e.length;a.push(e)}b=new Uint8Array(new ArrayBuffer(c));c=0;for(const d of a)b.set(d,c),c+=d.length;return b}
function nd(){return new Promise((a,b)=>{window.addEventListener("message",c=>{if(c.source===window.parent&&c.origin.startsWith("chrome-extension://")&&c.data&&typeof c.data==="object"&&c.data.type==="pdf"){var d=c.data.body;d instanceof ReadableStream&&!c.data.error?md(d).then(e=>{a(new pdfjsLib.PDFDataRangeTransport(e.length,e,!0,""))}):b(Error("Failed to fetch the PDF headers."))}});window.parent.postMessage({type:"fetch"},"*")})}
var qd=async function(a){return new Promise((b,c)=>{window.addEventListener("message",async d=>{if(d.data&&typeof d.data==="object"){var e=d.data.body;if(d.source===window.parent.parent&&d.origin===(new URL(a)).origin&&d.data.type==="pdf")if(e instanceof ReadableStream&&!d.data.error){var f=Number(d.data.length)||0,g=d.data.encoding;d=d.data.filename;d=typeof d==="string"?d:"";if(f<=0||g!=="")f=await md(e),b(new od(a,f.length,f,d));else{e=e.getReader();var {done:k,value:h}=await e.read();f=new od(a,
Math.max(f,h.length),h,d,!0);k||pd(f,e);b(f)}}else c(Error("Failed to fetch the PDF headers."))}});window.parent.parent.postMessage({type:"fetch",url:a},a)})},pd=async function(a,b){b.read().then(({done:c,value:d})=>{if(c)a.onDataProgressiveDone();else if(d){a.g+=d.length;a.onDataProgressiveRead(d);if(a.g<=a.i)a.onDataProgress(a.g,a.i);else a.onDataProgress(a.g);pd(a,b)}})},rd=async function(a,b,c){c=await md(c);a.onDataProgress(c.length);a.onDataRange(b,c)};
class od extends pdfjsLib.PDFDataRangeTransport{constructor(a,b,c,d,e=!1){super(b,c,b===c.length,d);this.h=a;this.g=c.length;this.i=b;this.A=e;window.addEventListener("message",f=>{if(f.data&&typeof f.data==="object"){var g=f.data.body,k=Number(f.data.begin);f.source===window.parent.parent&&f.origin===(new URL(a)).origin&&f.data.type==="pdfrange"&&g instanceof ReadableStream&&k>=0&&rd(this,k,g)}})}requestDataRange(a,b){window.parent.parent.postMessage({type:"fetchrange",url:this.h,begin:a,end:b},
this.h)}}(async()=>{const a=await (await fetch("/pdf.worker.min.js")).blob();pdfjsLib.GlobalWorkerOptions.workerSrc=(0,URL.createObjectURL)(a);kd(new ld(async b=>{let c,d;(new URL(b)).protocol==="file:"?(c=await nd(),d=!1):(c=await qd(b),d=c.A);return{I:pdfjsLib.getDocument({url:b,cMapUrl:"/bcmaps/",cMapPacked:!0,range:c}),A:d}}))})();}).call(this);
